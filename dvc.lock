schema: '2.0'
stages:
  data_gathering:
    cmd: python3 -m src.data.make_dataset
    deps:
    - path: src/data/make_dataset.py
      hash: md5
      md5: 284c5f13edce32737a4f7e6c30f10a3d
      size: 1081
    outs:
    - path: data/raw
      hash: md5
      md5: dabfe9266eaeba1b69f3fe54d5722a71.dir
      size: 1096473
      nfiles: 1
  data_cleaning:
    cmd: python3 -m src.data.data_cleaning
    deps:
    - path: data/raw/flight_price.csv
      hash: md5
      md5: ea995518999e47766c19cedb8b1510bf
      size: 1096473
    - path: src/data/data_cleaning.py
      hash: md5
      md5: 6926f1d04feac8cde7c6d78d57a1ec76
      size: 3304
    outs:
    - path: data/interim
      hash: md5
      md5: 4f3523872d37c24bd6eea539e8a5757b.dir
      size: 1394312
      nfiles: 1
  data_transformation:
    cmd: python3 -m src.data.data_transformation
    deps:
    - path: data/interim/cleaned_flight_price.csv
      hash: md5
      md5: 4f55847d6c8705d591267dede623f32f
      size: 1394312
    - path: src/data/data_transformation.py
      hash: md5
      md5: 2c09eff44209c6a28f9a0e68df859a62
      size: 1822
    outs:
    - path: data/transformed
      hash: md5
      md5: 75edda8d1881e36efe59e0a72074d1b9.dir
      size: 932900
      nfiles: 1
  feature_engineering:
    cmd: python3 -m src.features.feature_engineering
    deps:
    - path: data/transformed/transformed_flight_price.csv
      hash: md5
      md5: ee7b568b548c4217ae8f4e4719a433a2
      size: 932900
    - path: src/features/feature_engineering.py
      hash: md5
      md5: 88ce9d80b8f99b83634cddbe85bc7246
      size: 1452
    outs:
    - path: data/features
      hash: md5
      md5: f19aa9e9a16703aca38f6bd5fe677ae6.dir
      size: 805062
      nfiles: 1
  data_splitting:
    cmd: python3 -m src.model.splitting
    deps:
    - path: data/features/feature_engineered_flight_price.csv
      hash: md5
      md5: 712e9f666556a8b33238203b0f5d94a5
      size: 805062
    - path: params.yaml
      hash: md5
      md5: c67f871795e6d77fe5db6b8bc6599196
      size: 380
    - path: src/model/splitting.py
      hash: md5
      md5: a8528cea93e00f6fbfb1cd7a07071f17
      size: 2038
    outs:
    - path: data/splitted_data
      hash: md5
      md5: 9a786dfc45c84123bd1df81fe6c6da02.dir
      size: 805392
      nfiles: 6
  feature_encoding:
    cmd: python3 src/model/encoding_features.py
    deps:
    - path: data/splitted_data/X_test.csv
      hash: md5
      md5: e43698e21240c72e453d4e1885e1ba40
      size: 141751
    - path: data/splitted_data/X_train.csv
      hash: md5
      md5: 34e6e43e257a88c792b001f76472baf4
      size: 450467
    - path: data/splitted_data/X_val.csv
      hash: md5
      md5: 9f89c1ea6223aefc3fc7b91f5639a623
      size: 112648
    - path: src/model/encoding_features.py
      hash: md5
      md5: db33a0e160a7caa0ffbd5bb330347923
      size: 1322
  train_model:
    cmd: python3 -m src.model.train_model
    deps:
    - path: data/splitted_data/X_train.csv
      hash: md5
      md5: 34e6e43e257a88c792b001f76472baf4
      size: 450467
    - path: data/splitted_data/y_train.csv
      hash: md5
      md5: fde8d9bb50504cc0a8ae15200cc87594
      size: 50620
    - path: src/model/pipeline.py
      hash: md5
      md5: db33a0e160a7caa0ffbd5bb330347923
      size: 1322
    - path: src/model/train_model.py
      hash: md5
      md5: 33bd888c035fcdd8ec0224b586025eed
      size: 1443
    outs:
    - path: models/random_forest_model.pkl
      hash: md5
      md5: 3814a6bbd4ea16d23f26d925b9935b68
      size: 5803866
  encoding_features:
    cmd: python3 -m src.model.encoding_features
    deps:
    - path: data/splitted_data/X_test.csv
      hash: md5
      md5: e43698e21240c72e453d4e1885e1ba40
      size: 141751
    - path: data/splitted_data/X_train.csv
      hash: md5
      md5: 34e6e43e257a88c792b001f76472baf4
      size: 450467
    - path: data/splitted_data/X_val.csv
      hash: md5
      md5: 9f89c1ea6223aefc3fc7b91f5639a623
      size: 112648
    - path: src/model/encoding_features.py
      hash: md5
      md5: db33a0e160a7caa0ffbd5bb330347923
      size: 1322
  pipeline:
    cmd: python3 -m src.model.pipeline
    deps:
    - path: data/splitted_data/X_test.csv
      hash: md5
      md5: 65f9f4ee6591ecfa4fc32c8674b75d71
      size: 146025
    - path: data/splitted_data/X_train.csv
      hash: md5
      md5: 21359c206d458e5da07612323ec01eed
      size: 464139
    - path: data/splitted_data/X_val.csv
      hash: md5
      md5: b24cec9e1aa734372897389483a7797c
      size: 116066
    - path: src/model/pipeline.py
      hash: md5
      md5: 03d8166e8248847a0203b4344eba0d0e
      size: 1260
  evaluate_model:
    cmd: python3 -m src.model.evaluate_model
    deps:
    - path: data/splitted_data/X_train.csv
      hash: md5
      md5: 21359c206d458e5da07612323ec01eed
      size: 464139
    - path: data/splitted_data/X_val.csv
      hash: md5
      md5: b24cec9e1aa734372897389483a7797c
      size: 116066
    - path: data/splitted_data/y_train.csv
      hash: md5
      md5: fde8d9bb50504cc0a8ae15200cc87594
      size: 50620
    - path: data/splitted_data/y_val.csv
      hash: md5
      md5: 5b78c512da5945930cda202bc37805f2
      size: 12683
    - path: models/random_forest_model.pkl
      hash: md5
      md5: ac257a68e1c5f962da13583a95c37c11
      size: 86848058
    - path: models/xgboost_model.pkl
      hash: md5
      md5: 85f0f2c7321d68620def3df17467b613
      size: 2005005
    - path: params.yaml
      hash: md5
      md5: c67f871795e6d77fe5db6b8bc6599196
      size: 380
    - path: src/model/evaluate_model.py
      hash: md5
      md5: d5b69b69fca619df3e16706e25510b9f
      size: 5405
  train_model_rf:
    cmd: python3 -m src.model.train_model_rf
    deps:
    - path: data/splitted_data/X_train.csv
      hash: md5
      md5: 21359c206d458e5da07612323ec01eed
      size: 464139
    - path: data/splitted_data/y_train.csv
      hash: md5
      md5: fde8d9bb50504cc0a8ae15200cc87594
      size: 50620
    - path: params.yaml
      hash: md5
      md5: c67f871795e6d77fe5db6b8bc6599196
      size: 380
    - path: src/model/pipeline.py
      hash: md5
      md5: 03d8166e8248847a0203b4344eba0d0e
      size: 1260
    - path: src/model/train_model_rf.py
      hash: md5
      md5: d2789532d5e192d7f8faf043393b98d4
      size: 3117
    outs:
    - path: models/random_forest_model.pkl
      hash: md5
      md5: ac257a68e1c5f962da13583a95c37c11
      size: 86848058
  train_model_xgboost:
    cmd: python3 -m src.model.train_model_xgboost
    deps:
    - path: data/splitted_data/X_train.csv
      hash: md5
      md5: 21359c206d458e5da07612323ec01eed
      size: 464139
    - path: data/splitted_data/y_train.csv
      hash: md5
      md5: fde8d9bb50504cc0a8ae15200cc87594
      size: 50620
    - path: params.yaml
      hash: md5
      md5: c67f871795e6d77fe5db6b8bc6599196
      size: 380
    - path: src/model/pipeline.py
      hash: md5
      md5: 03d8166e8248847a0203b4344eba0d0e
      size: 1260
    - path: src/model/train_model_xgboost.py
      hash: md5
      md5: ddb61456ff4a621dff7571db5f5e4166
      size: 2884
    outs:
    - path: models/xgboost_model.pkl
      hash: md5
      md5: 85f0f2c7321d68620def3df17467b613
      size: 2005005
  hyperparameter_tuning_eval:
    cmd: python3 -m src.model.hyperparameter_tuning_eval
    deps:
    - path: data/splitted_data/X_train.csv
      hash: md5
      md5: 21359c206d458e5da07612323ec01eed
      size: 464139
    - path: data/splitted_data/X_val.csv
      hash: md5
      md5: b24cec9e1aa734372897389483a7797c
      size: 116066
    - path: data/splitted_data/y_train.csv
      hash: md5
      md5: fde8d9bb50504cc0a8ae15200cc87594
      size: 50620
    - path: data/splitted_data/y_val.csv
      hash: md5
      md5: 5b78c512da5945930cda202bc37805f2
      size: 12683
    - path: params.yaml
      hash: md5
      md5: c67f871795e6d77fe5db6b8bc6599196
      size: 380
    - path: src/model/hyperparameter_tuning_eval.py
      hash: md5
      md5: 246dac252de9b0f9147b1dbf3dabcab9
      size: 8428
  best_model:
    cmd: python3 -m src.model.best_model
    deps:
    - path: params.yaml
      hash: md5
      md5: c67f871795e6d77fe5db6b8bc6599196
      size: 380
    - path: src/model/best_model.py
      hash: md5
      md5: b7fe1d54efe7d1c4435d511a99dfa901
      size: 8048
    - path: src/model/evaluate_model.py
      hash: md5
      md5: d5b69b69fca619df3e16706e25510b9f
      size: 5405
    - path: src/model/hyperparameter_tuning_eval.py
      hash: md5
      md5: 246dac252de9b0f9147b1dbf3dabcab9
      size: 8428
    outs:
    - path: models/reports/experiments_run_df/hyperparameter_tuning_runs.csv
      hash: md5
      md5: 7d0bd5f8ab69c7cb11c4c2b2f676302f
      size: 38907
