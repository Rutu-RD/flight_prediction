schema: '2.0'
stages:
  data_gathering:
    cmd: python3 -m src.data.make_dataset
    deps:
    - path: src/data/make_dataset.py
      hash: md5
      md5: 284c5f13edce32737a4f7e6c30f10a3d
      size: 1081
    outs:
    - path: data/raw
      hash: md5
      md5: dabfe9266eaeba1b69f3fe54d5722a71.dir
      size: 1096473
      nfiles: 1
  data_cleaning:
    cmd: python3 -m src.data.data_cleaning
    deps:
    - path: data/raw/flight_price.csv
      hash: md5
      md5: ea995518999e47766c19cedb8b1510bf
      size: 1096473
    - path: src/data/data_cleaning.py
      hash: md5
      md5: 1dfc5a17f5b3b4f0d0d67411168eb661
      size: 3236
    outs:
    - path: data/interim
      hash: md5
      md5: 03692efc1f82e2f2cc6603370322c7f3.dir
      size: 1372946
      nfiles: 1
  data_transformation:
    cmd: python3 -m src.data.data_transformation
    deps:
    - path: data/interim/cleaned_flight_price.csv
      hash: md5
      md5: 31714294e45d3d764cd0c4c99824ce3c
      size: 1372946
    - path: src/data/data_transformation.py
      hash: md5
      md5: 2c09eff44209c6a28f9a0e68df859a62
      size: 1822
    outs:
    - path: data/transformed
      hash: md5
      md5: aa3e9d22c225ba52d9bd19845b46848d.dir
      size: 911534
      nfiles: 1
  feature_engineering:
    cmd: python3 -m src.features.feature_engineering
    deps:
    - path: data/transformed/transformed_flight_price.csv
      hash: md5
      md5: 23ce7d256642c5f175a568b39d69ae45
      size: 911534
    - path: src/features/feature_engineering.py
      hash: md5
      md5: 88ce9d80b8f99b83634cddbe85bc7246
      size: 1452
    outs:
    - path: data/features
      hash: md5
      md5: 0b6f8a49d983a746839513d9fa2677fb.dir
      size: 783698
      nfiles: 1
  data_splitting:
    cmd: python3 -m src.model.splitting
    deps:
    - path: data/features/feature_engineered_flight_price.csv
      hash: md5
      md5: 56845c59b159d18f508f7263c0614a63
      size: 783698
    - path: params.yaml
      hash: md5
      md5: df82bf62ac4412d95380dc1ac691b1b1
      size: 432
    - path: src/model/splitting.py
      hash: md5
      md5: a8528cea93e00f6fbfb1cd7a07071f17
      size: 2038
    outs:
    - path: data/splitted_data
      hash: md5
      md5: b17a32689c1950c1caf0b90e61829ab2.dir
      size: 784028
      nfiles: 6
  feature_encoding:
    cmd: python3 src/model/encoding_features.py
    deps:
    - path: data/splitted_data/X_test.csv
      hash: md5
      md5: e43698e21240c72e453d4e1885e1ba40
      size: 141751
    - path: data/splitted_data/X_train.csv
      hash: md5
      md5: 34e6e43e257a88c792b001f76472baf4
      size: 450467
    - path: data/splitted_data/X_val.csv
      hash: md5
      md5: 9f89c1ea6223aefc3fc7b91f5639a623
      size: 112648
    - path: src/model/encoding_features.py
      hash: md5
      md5: db33a0e160a7caa0ffbd5bb330347923
      size: 1322
  train_model:
    cmd: python3 -m src.model.train_model
    deps:
    - path: data/splitted_data/X_train.csv
      hash: md5
      md5: 34e6e43e257a88c792b001f76472baf4
      size: 450467
    - path: data/splitted_data/y_train.csv
      hash: md5
      md5: fde8d9bb50504cc0a8ae15200cc87594
      size: 50620
    - path: src/model/pipeline.py
      hash: md5
      md5: db33a0e160a7caa0ffbd5bb330347923
      size: 1322
    - path: src/model/train_model.py
      hash: md5
      md5: 33bd888c035fcdd8ec0224b586025eed
      size: 1443
    outs:
    - path: models/random_forest_model.pkl
      hash: md5
      md5: 3814a6bbd4ea16d23f26d925b9935b68
      size: 5803866
  encoding_features:
    cmd: python3 -m src.model.encoding_features
    deps:
    - path: data/splitted_data/X_test.csv
      hash: md5
      md5: e43698e21240c72e453d4e1885e1ba40
      size: 141751
    - path: data/splitted_data/X_train.csv
      hash: md5
      md5: 34e6e43e257a88c792b001f76472baf4
      size: 450467
    - path: data/splitted_data/X_val.csv
      hash: md5
      md5: 9f89c1ea6223aefc3fc7b91f5639a623
      size: 112648
    - path: src/model/encoding_features.py
      hash: md5
      md5: db33a0e160a7caa0ffbd5bb330347923
      size: 1322
  pipeline:
    cmd: python3 -m src.model.pipeline
    deps:
    - path: data/splitted_data/X_test.csv
      hash: md5
      md5: e43698e21240c72e453d4e1885e1ba40
      size: 141751
    - path: data/splitted_data/X_train.csv
      hash: md5
      md5: 34e6e43e257a88c792b001f76472baf4
      size: 450467
    - path: data/splitted_data/X_val.csv
      hash: md5
      md5: 9f89c1ea6223aefc3fc7b91f5639a623
      size: 112648
    - path: src/model/pipeline.py
      hash: md5
      md5: 03d8166e8248847a0203b4344eba0d0e
      size: 1260
  evaluate_model:
    cmd: python3 -m src.model.evaluate_model
    deps:
    - path: data/splitted_data/X_train.csv
      hash: md5
      md5: 34e6e43e257a88c792b001f76472baf4
      size: 450467
    - path: data/splitted_data/X_val.csv
      hash: md5
      md5: 9f89c1ea6223aefc3fc7b91f5639a623
      size: 112648
    - path: data/splitted_data/y_train.csv
      hash: md5
      md5: fde8d9bb50504cc0a8ae15200cc87594
      size: 50620
    - path: data/splitted_data/y_val.csv
      hash: md5
      md5: 5b78c512da5945930cda202bc37805f2
      size: 12683
    - path: models/random_forest_model.pkl
      hash: md5
      md5: e2a2049a6ac31c24838e5087dd55d3dc
      size: 34816250
    - path: models/xgboost_model.pkl
      hash: md5
      md5: 46c40d76e2ad122d6a4a5d6e31fd6ea4
      size: 1438021
    - path: src/model/evaluate_model.py
      hash: md5
      md5: 965fe83c8f9c8b39608c1397ba53e3f9
      size: 5107
  train_model_rf:
    cmd: python3 -m src.model.train_model_rf
    deps:
    - path: data/splitted_data/X_train.csv
      hash: md5
      md5: 34e6e43e257a88c792b001f76472baf4
      size: 450467
    - path: data/splitted_data/y_train.csv
      hash: md5
      md5: fde8d9bb50504cc0a8ae15200cc87594
      size: 50620
    - path: params.yaml
      hash: md5
      md5: df82bf62ac4412d95380dc1ac691b1b1
      size: 432
    - path: src/model/pipeline.py
      hash: md5
      md5: 03d8166e8248847a0203b4344eba0d0e
      size: 1260
    - path: src/model/train_model_rf.py
      hash: md5
      md5: 65d8cc4e38449cce0cd4c6de45dfc431
      size: 2733
    outs:
    - path: models/random_forest_model.pkl
      hash: md5
      md5: e2a2049a6ac31c24838e5087dd55d3dc
      size: 34816250
  train_model_xgboost:
    cmd: python3 -m src.model.train_model_xgboost
    deps:
    - path: data/splitted_data/X_train.csv
      hash: md5
      md5: 34e6e43e257a88c792b001f76472baf4
      size: 450467
    - path: data/splitted_data/y_train.csv
      hash: md5
      md5: fde8d9bb50504cc0a8ae15200cc87594
      size: 50620
    - path: params.yaml
      hash: md5
      md5: df82bf62ac4412d95380dc1ac691b1b1
      size: 432
    - path: src/model/pipeline.py
      hash: md5
      md5: 03d8166e8248847a0203b4344eba0d0e
      size: 1260
    - path: src/model/train_model_xgboost.py
      hash: md5
      md5: 57cf71292b0b741981f46968de1ccbb6
      size: 2499
    outs:
    - path: models/xgboost_model.pkl
      hash: md5
      md5: 46c40d76e2ad122d6a4a5d6e31fd6ea4
      size: 1438021
  hyperparameter_tuning_eval:
    cmd: python3 -m src.model.hyperparameter_tuning_eval
    deps:
    - path: data/splitted_data/X_train.csv
      hash: md5
      md5: 34e6e43e257a88c792b001f76472baf4
      size: 450467
    - path: data/splitted_data/X_val.csv
      hash: md5
      md5: 9f89c1ea6223aefc3fc7b91f5639a623
      size: 112648
    - path: data/splitted_data/y_train.csv
      hash: md5
      md5: fde8d9bb50504cc0a8ae15200cc87594
      size: 50620
    - path: data/splitted_data/y_val.csv
      hash: md5
      md5: 5b78c512da5945930cda202bc37805f2
      size: 12683
    - path: params.yaml
      hash: md5
      md5: df82bf62ac4412d95380dc1ac691b1b1
      size: 432
    - path: src/model/hyperparameter_tuning_eval.py
      hash: md5
      md5: 7fe49a60b770f4f5fbac8b0c773786dc
      size: 8124
  best_model:
    cmd: python3 -m src.model.best_model
    deps:
    - path: src/model/best_model.py
      hash: md5
      md5: 4f7a17451e343a29be0aa93d28eaa288
      size: 5295
    - path: src/model/evaluate_model.py
      hash: md5
      md5: 965fe83c8f9c8b39608c1397ba53e3f9
      size: 5107
    - path: src/model/hyperparameter_tuning_eval.py
      hash: md5
      md5: 7fe49a60b770f4f5fbac8b0c773786dc
      size: 8124
    outs:
    - path: models/reports/experiments_run_df/hyperparameter_tuning_runs.csv
      hash: md5
      md5: d7ee29b0b4c7412f8481a7f7f4855948
      size: 415247
